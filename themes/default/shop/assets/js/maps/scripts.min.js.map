{"version":3,"sources":["general.js"],"names":["sa_img","title","msg","swal","html","type","confirmButtonText","lang","okay","catch","noop","update_cart_item","action","data","pv","el","$","ajax","url","success","res","error","val","selectpicker","$po","sa_alert","message","cart","update_mini_cart","update_cart","status","sticky_con","get_width","stick_in_parent","parent","on","e","this","css","trigger","sticky_footer","height","window","width","loading","n","show","setTimeout","hide","get","name","Storage","localStorage","getItem","alert","store","setItem","remove","removeItem","gen_html","products","shop_grid","cols","pr_con","pr_c","x_product","site","settings","products_page","empty","isotope","each","index","product","nprice","special_price","price","fnprice","formated_special_price","formated_price","fpprice","promotion","promo_price","formated_promo_price","site_url","slug","base_url","image","details","shop_settings","hide_price","id","add_to_cart","length","appendTo","itemSelector","searchProducts","link","csrf_token","csrf_token_value","get_filters","shop_url","filters","page","dataType","done","pagination","info","text","page_info","replace","total","always","location","href","includes","history","pushState","onpopstate","state","scrollTo","category","min_price","max_price","in_stock","is","promo","featured","sorting","total_items","items","item","contents","row","qty","subtotal","cart_empty","i","rowid","options","option","parseFloat","trow","total_w_o_tax","product_tax","total_item_tax","tax2","order_tax","shipping","grand_total","total_unique_items","formatMoney","x","symbol","sac","display_symbol","formatSA","toFixed","decimals","fmoney","accounting","thousands_sep","decimals_sep","toString","afterPoint","indexOf","substring","Math","floor","lastThree","otherNumbers","level","overlay","timer","saa_alert","method","form_data","delete","x_reverted_back","_method","r_u_sure","showCancelButton","allowOutsideClick","showLoaderOnConfirm","preConfirm","Promise","redirect","prompt","input","cancelButtonText","cancel","submit","email","resolve","reject","then","add_address","address","astate","istates","selectList","document","createElement","className","setAttribute","Object","keys","map","s","value","appendChild","outerHTML","update_address","fill_form","line1","line_1","line2","line_2","city","postal_code","country","phone","is_required","onOpen","focus","test","navigator","userAgent","modile","elements","querySelectorAll","classList","size","$form","attr","serialize","email_form","send_email_title","full_name","subject","validateEmail","email_is_invalid","preventDefault","qty_input","parents","find","imgtodrag","eq","clone","offset","top","left","opacity","position","z-index","animate","detach","parseInt","console","log","tab","self","reload","closest","click","next","scrollTop","sa","addresses","reset_pw","type_email","hover","addClass","removeClass","event","stopPropagation","siblings","toggleClass","tooltip","container","formValidation","framework","required_invalid","scroll","fadeIn","fadeOut","resize","removeAttr","shop_color","v","query","blur","brand","change","ev","p","split","pp","m","fdata","defaultValue","children","target","$lightbox","$img","src","alt","maxWidth","maxHeight","match","hash","resetForm","inputs","submit_btn","querySelector","style","display","Array","prototype","forEach","call","label","nextElementSibling","labelVal","innerHTML","addEventListener","fileName","files","getAttribute","pop"],"mappings":"AAAA,YAiZA,SAAAA,QAAAC,EAAAC,GACAC,MACAF,MAAAA,EACAG,KAAAF,EACAG,KAAA,UACAC,kBAAAC,KAAAC,OACAC,MAAAN,KAAAO,MAIA,QAAAC,kBAAAC,EAAAC,EAAAC,EAAAC,EAAAV,GACAW,EAAAC,MACAC,IAAAN,EACAP,KAAA,OACAQ,KAAAA,EACAM,QAAA,SAAAC,GACAA,EAAAC,OACA,QAAAhB,EACAU,EAAAO,IAAAR,GAEAC,EAAAQ,aAAA,MAAAC,KAEAC,SAAA,SAAAL,EAAAM,QAAA,SAAA,KAEAN,EAAAO,OACAA,KAAAP,EAAAO,KACAC,iBAAAD,MACAE,YAAAF,OAEAF,SAAAL,EAAAU,OAAAV,EAAAM,WAGAL,MAAA,WACAI,SAAA,SAAA,4DAAA,SAAA,MAMA,QAAAM,cACAC,YAAA,KACAhB,EAAA,eAAAiB,iBAAAC,OAAAlB,EAAA,gBACAA,EAAA,eAAAmB,GAAA,oBAAA,SAAAC,GACApB,EAAAqB,MAAAH,SAAAI,IAAA,WAAA,YACAH,GAAA,sBAAA,SAAAC,GACApB,EAAAqB,MAAAH,SAAAI,IAAA,WAAA,eAGAtB,EAAA,eAAAuB,QAAA,qBAKA,QAAAC,iBACAxB,EAAA,QAAAsB,IAAA,iBAAAtB,EAAA,WAAAyB,UAIA,QAAAT,aACA,MAAAhB,GAAA0B,QAAAC,QAIA,QAAAC,SAAAC,GACA7B,EAAA,YAAA8B,OACAC,WAAA,WACA/B,EAAA,YAAAgC,QACAH,GAIA,QAAAI,KAAAC,GACA,GAAA,mBAAAC,SACA,MAAAC,cAAAC,QAAAH,EAEAI,OAAA,gEAKA,QAAAC,OAAAL,EAAA5B,GACA,mBAAA6B,SACAC,aAAAI,QAAAN,EAAA5B,GAEAgC,MAAA,gEAKA,QAAAG,QAAAP,GACA,mBAAAC,SACAC,aAAAM,WAAAR,GAEAI,MAAA,gEASA,QAAAK,UAAAC,GACA,GACAxD,GAAA,EACA,IAAA4B,YAAA,IACA,GAAA6B,GAAAZ,IAAA,aACAa,EAAA,cAAAD,EAAA,EAAA,MAEA,IAAAA,GAAA,WACAC,EAAA,CAEA,IAAAC,GAAAF,GAAA,cAAAA,EAAA,oBAAA,WACAG,EAAAH,GAAA,cAAAA,EAAA,MAAA,EAgCA,IA9BAD,IACAxD,GAAA,6HAAAG,KAAA0D,UAAA,qBAGA,GAAAC,KAAAC,SAAAC,gBACApD,EAAA,YAAAqD,QACArD,EAAA,SAAAsD,QAAA,WAAAA,WAGAtD,EAAAuD,KAAAX,EAAA,SAAAY,EAAAC,GACA,GAAAC,GAAAD,EAAAE,cAAAF,EAAAE,cAAAF,EAAAG,MACAC,EAAAJ,EAAAE,cAAAF,EAAAK,uBAAAL,EAAAM,eAEAC,GADAP,EAAAQ,WAAAR,EAAAS,aAAA,GAAAT,EAAAS,aAAAT,EAAAS,YACAT,EAAAQ,WAAAR,EAAAS,aAAA,GAAAT,EAAAS,YAAAT,EAAAU,qBAAAN,EACA,IAAAX,KAAAC,SAAAC,gBACA,IAAAI,EACApE,GAAA,oBACAoE,EAAAV,GAAA,IACA1D,GAAA,4BAGAA,GAAA,iCAAA2D,EAAA,KAAA,GAAAG,KAAAC,SAAAC,cAAA,YAAA,IAAA,mCAAAJ,EAAA,KAAA,GAAAE,KAAAC,SAAAC,cAAA,aAAA,IAAA,gBAAAK,EAAAS,YAAA,qDAAA,IAAA,8FAAAhB,KAAAkB,SAAA,WAAAX,EAAAY,KAAA,gDAAAnB,KAAAoB,SAAA,kBAAAb,EAAAc,MAAA,kGAAArB,KAAAkB,SAAA,WAAAX,EAAAY,KAAA,wCAAAZ,EAAAvB,KAAA,mCAAAuB,EAAAe,QAAA,wFAAA,GAAAtB,KAAAuB,cAAAC,WAAA,GAAA,yFAAAjB,EAAAS,YAAA,yCAAAL,EAAA,SAAA,IAAA,aAAAG,EAAA,wtBAAAP,EAAAkB,GAAA,wGAAAlB,EAAAkB,GAAA,0DAAApF,KAAAqF,YAAA,mGAAA,yEACA,GAAA1B,KAAAC,SAAAC,eACAI,EAAA,IAAAZ,EAAAiC,SACAzF,GAAA,YAMA,GAAA8D,KAAAC,SAAAC,cACApD,EAAA,YAAAqD,QACArD,EAAAZ,GAAA0F,SAAA9E,EAAA,iBACA,CACA,GAAAH,GAAAG,EAAAZ,EACAY,GAAA,SAAAsD,QAAA,SAAAzD,GAAAyD,QAAA,UACAvB,WAAA,WACA/B,EAAA,SAAAsD,SAAAyB,aAAA,gBACA,MAKA,QAAAC,gBAAAC,GACAjF,EAAA,YAAA8B,MACA,IAAAjC,KACAA,GAAAqD,KAAAgC,YAAAhC,KAAAiC,iBACAtF,EAAA,QAAAuF,cACAvF,EAAA,OAAA,OACAG,EAAAC,MAAAC,IAAAgD,KAAAmC,SAAA,eAAAC,QAAAC,KAAAlG,KAAA,OAAAQ,KAAAA,EAAA2F,SAAA,SAAAC,KAAA,SAAA5F,GACA+C,SAAA/C,EAAA+C,SACA5C,EAAA,cAAAqD,QACArD,EAAA,eAAAqD,QACAxD,EAAA+C,WACA/C,EAAA6F,YACA1F,EAAA,eAAAZ,KAAAS,EAAA6F,YAEA7F,EAAA8F,MACA3F,EAAA,cAAA4F,KAAArG,KAAAsG,UAAAC,QAAA,SAAAjG,EAAA8F,KAAAJ,MAAAO,QAAA,UAAAjG,EAAA8F,KAAAI,SAGApD,SAAAC,YACAoD,OAAA,WACAhG,EAAA,YAAAgC,SAEAiE,SAAAC,KAAAC,SAAA,aACAlB,IACAvD,OAAA0E,QAAAC,WAAApB,KAAAA,EAAAK,QAAAA,SAAA,GAAAL,GACAvD,OAAA4E,WAAA,SAAAlF,GACAA,EAAAmF,OAAAnF,EAAAmF,MAAAjB,SACAA,QAAAlE,EAAAmF,MAAAjB,QACAN,mBAEAM,QAAAC,KAAA,EACAP,oBAKAjD,WAAA,WACAL,OAAA8E,SAAA,EAAA,IACA,KAIA,QAAApB,eAQA,MAPAE,SAAAmB,SAAAzG,EAAA,qBAAAM,MAAAN,EAAA,qBAAAM,MAAAgF,QAAAmB,SACAnB,QAAAoB,UAAA1G,EAAA,cAAAM,MACAgF,QAAAqB,UAAA3G,EAAA,cAAAM,MACAgF,QAAAsB,SAAA5G,EAAA,aAAA6G,GAAA,YAAA,EAAA,EACAvB,QAAAwB,MAAA9G,EAAA,eAAA6G,GAAA,YAAA,MAAA,EACAvB,QAAAyB,SAAA/G,EAAA,aAAA6G,GAAA,YAAA,MAAA,EACAvB,QAAA0B,QAAA/E,IAAA,WACAqD,QAIA,QAAA1E,kBAAAD,GACA,GAAAA,EAAAsG,aAAAtG,EAAAsG,YAAA,EAAA,CACAjH,EAAA,qBAAA4F,KAAAjF,EAAAsG,YAAA,KAAAtG,EAAAsG,YAAA,EAAA1H,KAAA2H,MAAA3H,KAAA4H,OACAnH,EAAA,eAAAqD,QACArD,EAAAuD,KAAA5C,EAAAyG,SAAA,WACA,GAAAC,GAAA,gBAAAnE,KAAAkB,SAAA,YAAA/C,KAAAgD,KAAA,6CAAAnB,KAAAoB,SAAA,yBAAAjD,KAAAkD,MAAA,yCAAArB,KAAAkB,SAAA,YAAA/C,KAAAgD,KAAA,KAAAhD,KAAAa,KAAA,WAAAb,KAAAiG,IAAA,MAAAjG,KAAAuC,MAAA,yCAAAvC,KAAAkG,SAAA,OACAvH,GAAA,OAAAqH,EAAA,SAAAvC,SAAA,gBAEA,IAAAuC,GAAA,mDAAA9H,KAAA0H,YAAA,+BAAAtG,EAAAsG,YAAA,6DAAA1H,KAAAwG,MAAA,+BAAApF,EAAAoF,MAAA,sBACA/F,GAAA,UAAAqH,EAAA,YAAAvC,SAAA,eACA9E,EAAA,eAAAgC,OACAhC,EAAA,kBAAA8B,WAEA9B,GAAA,qBAAA4F,KAAArG,KAAAiI,YACAxH,EAAA,kBAAAgC,OACAhC,EAAA,eAAA8B,OAIA,QAAAjB,aAAAF,GACA,GAAAA,EAAAsG,aAAAtG,EAAAsG,YAAA,EAAA,CACAjH,EAAA,qBAAAqD,OACA,IAAAoE,GAAA,CACAzH,GAAAuD,KAAA5C,EAAAyG,SAAA,WACA,GAAAD,GAAA9F,KACAgG,EAAA,4GAAAhG,KAAAqG,MAAA,qGAAAD,EAAA,mBAAApG,KAAAqG,MAAA,KAAAD,EAAA,iDAAAvE,KAAAkB,SAAA,YAAA/C,KAAAgD,KAAA,wDAAAnB,KAAAoB,SAAA,yBAAAjD,KAAAkD,MAAA,qEAAArB,KAAAkB,SAAA,YAAA/C,KAAAgD,KAAA,KAAAhD,KAAAa,KAAA,6BACAb,MAAAsG,UACAN,GAAA,iBAAAI,EAAA,8FACAzH,EAAAuD,KAAAlC,KAAAsG,QAAA,WACAN,GAAA,kBAAAhG,KAAAsD,GAAA,MAAAtD,KAAAsD,IAAAwC,EAAAS,OAAA,WAAA,IAAA,IAAAvG,KAAAa,KAAA,KAAA,GAAA2F,WAAAxG,KAAAuC,OAAA,KAAAvC,KAAAuC,MAAA,IAAA,IAAA,cAEAyD,GAAA,aAGAA,GAAA,mDAAAI,EAAA,0EAAApG,KAAAiG,IAAA,+CAAAjG,KAAAuC,MAAA,6CAAAvC,KAAAkG,SAAA,sBACAE,IAEAzH,EAAA,WAAAqB,KAAAqG,MAAA,KAAAL,EAAA,SAAAvC,SAAA,uBAGA9E,EAAA,gBAAAqD,OACA,IAAAyE,GAAA,WAAAvI,KAAAwI,cAAA,+BAAApH,EAAA4G,SAAA,YACAO,IAAA,WAAAvI,KAAAyI,YAAA,+BAAArH,EAAAsH,eAAA,aACAH,GAAA,WAAAvI,KAAAwG,MAAA,+BAAApF,EAAAoF,MAAA,cACA,IAAA7C,KAAAC,SAAA+E,OACAJ,GAAA,WAAAvI,KAAA4I,UAAA,+BAAAxH,EAAAwH,UAAA,cAEAL,GAAA,WAAAvI,KAAA6I,SAAA,iCAAAzH,EAAAyH,SAAA,aACAN,GAAA,iCACAA,GAAA,oCAAAvI,KAAA8I,YAAA,+BAAA1H,EAAA0H,YAAA,aAEArI,EAAA,UAAA8H,EAAA,YAAAhD,SAAA,gBAEA9E,EAAA,gBAAA4F,KAAAjF,EAAAsG,YAAA,IAAAtG,EAAA2H,mBAAA,KACAtI,EAAA,qBAAAO,aAAA,WACAP,EAAA,mBAAAgC,OACAhC,EAAA,kBAAA8B,WAEA9B,GAAA,gBAAA4F,KAAAjF,EAAAsG,aACAjH,EAAA,kBAAAgC,OACAhC,EAAA,mBAAA8B,OAKA,QAAAyG,aAAAC,EAAAC,GAIA,GAHAA,IACAA,EAAAvF,KAAAC,SAAAsF,QAEA,GAAAvF,KAAAC,SAAAuF,IACA,OAAA,GAAAxF,KAAAC,SAAAwF,eAAAF,EAAA,IAAA,GAAAG,SAAAf,WAAAW,GAAAK,QAAA3F,KAAAC,SAAA2F,YAAA,GAAA5F,KAAAC,SAAAwF,eAAAF,EAAA,GAEA,IAAAM,GAAAC,WAAAT,YAAAC,EAAAC,EAAAvF,KAAAC,SAAA2F,SAAA,GAAA5F,KAAAC,SAAA8F,cAAA,IAAA/F,KAAAC,SAAA8F,cAAA/F,KAAAC,SAAA+F,aAAA,OACA,QAAA,GAAAhG,KAAAC,SAAAwF,eAAAF,EAAA,IAAAM,GAAA,GAAA7F,KAAAC,SAAAwF,eAAAF,EAAA,IAIA,QAAAG,UAAAJ,GACAA,EAAAA,EAAAW,UACA,IAAAC,GAAA,EACAZ,GAAAa,QAAA,KAAA,IAAAD,EAAAZ,EAAAc,UAAAd,EAAAa,QAAA,KAAAb,EAAA3D,SACA2D,EAAAe,KAAAC,MAAAhB,GACAA,EAAAA,EAAAW,UACA,IAAAM,GAAAjB,EAAAc,UAAAd,EAAA3D,OAAA,GACA6E,EAAAlB,EAAAc,UAAA,EAAAd,EAAA3D,OAAA,EAGA,OAFA,IAAA6E,IAAAD,EAAA,IAAAA,GACAC,EAAA5D,QAAA,wBAAA,KAAA2D,EAAAL,EAIA,QAAA3I,UAAAxB,EAAAyB,EAAAiJ,EAAAC,GACAD,EAAAA,GAAA,UACAC,EAAAA,IAAA,EACAzK,MACAF,MAAAA,EACAG,KAAAsB,EACArB,KAAAsK,EACAE,MAAAD,EAAA,IAAA,IACAtK,kBAAA,SACAG,MAAAN,KAAAO,MAGA,QAAAoK,WAAAlK,EAAAc,EAAAqJ,EAAAC,GACAD,EAAAA,GAAAxK,KAAA0K,OACAvJ,EAAAA,GAAAnB,KAAA2K,gBACAF,EAAAA,MACAA,EAAAG,QAAAJ,EACAC,EAAA9G,KAAAgC,YAAAhC,KAAAiC,iBACAhG,MACAF,MAAAM,KAAA6K,SACAhL,KAAAsB,EACArB,KAAA,WACAgL,kBAAA,EACAC,mBAAA,EACAC,qBAAA,EACAC,WAAA,WACA,MAAA,IAAAC,SAAA,WACAzK,EAAAC,MACAC,IAAAN,EACAP,KAAA,OACAQ,KAAAmK,EACA7J,QAAA,SAAAN,GACA,GAAAA,EAAA6K,SAEA,MADAhJ,QAAAuE,SAAAC,KAAArG,EAAA6K,UACA,CAEA7K,GAAAc,OACAA,KAAAd,EAAAc,KACAC,iBAAAD,MACAE,YAAAF,OAEAF,SAAAZ,EAAAiB,OAAAjB,EAAAa,UAGAL,MAAA,WACAI,SAAA,SAAA,4DAAA,SAAA,WAKAhB,MAAAN,KAAAO,MAGA,QAAAiL,QAAA1L,EAAAyB,EAAAsJ,GACA/K,EAAAA,GAAA,iBACAyB,EAAAA,GAAA,iCACAsJ,EAAAA,MACAA,EAAA9G,KAAAgC,YAAAhC,KAAAiC,iBAEAhG,MACAF,MAAAA,EACAG,KAAAsB,EACAkK,MAAA,QACAP,kBAAA,EACAC,mBAAA,EACAC,qBAAA,EACAM,iBAAAtL,KAAAuL,OACAxL,kBAAAC,KAAAwL,OACAP,WAAA,SAAAQ,GAEA,MADAhB,GAAA,MAAAgB,EACA,GAAAP,SAAA,SAAAQ,EAAAC,GACAlL,EAAAC,MACAC,IAAAgD,KAAAoB,SAAA,kBACAjF,KAAA,OACAQ,KAAAmK,EACA7J,QAAA,SAAAN,GACAA,EAAAiB,OACAmK,EAAApL,GAEAqL,EAAArL,IAGAQ,MAAA,WACAI,SAAA,SAAA,4DAAA,SAAA,WAKA0K,KAAA,SAAAtL,GACAY,SAAAZ,EAAAiB,OAAAjB,EAAAa,WAIA,QAAA0K,aAAAC,GACAA,EAAAA,KACA,IAAAC,GAAA,EACA,IAAAC,QAAA,CACA,GAAAC,GAAAC,SAAAC,cAAA,SACAF,GAAA7G,GAAA,gBACA6G,EAAAtJ,KAAA,QACAsJ,EAAAG,UAAA,kCACAH,EAAAI,aAAA,oBAAA,GACAJ,EAAAI,aAAA,QAAA,QACAC,QAAAC,KAAAP,SACAQ,IAAA,SAAAC,GACA,GAAA,GAAAA,EAAA,CACA,GAAApE,GAAA6D,SAAAC,cAAA,SACA9D,GAAAqE,MAAAD,EACApE,EAAAhC,KAAA2F,QAAAS,GACAR,EAAAU,YAAAtE,MAGA0D,EAAAE,EAAAW,cAEAb,GAAA,+BAAAD,EAAA9E,MAAA8E,EAAA9E,MAAA,IAAA,0DAAAhH,KAAAgH,MAAA,IAEApH,OACAF,MAAAoM,EAAA1G,GAAApF,KAAA6M,eAAA7M,KAAA6L,YACAhM,KAAA,6CAAAG,KAAA8M,UAAA,2FAAAnJ,KAAAmC,SAAA,mFAAAnC,KAAAgC,WAAA,YAAAhC,KAAAiC,iBAAA,wGAAAkG,EAAAiB,MAAAjB,EAAAiB,MAAA,IAAA,uCAAA/M,KAAAgN,OAAA,oHAAAlB,EAAAmB,MAAAnB,EAAAmB,MAAA,IAAA,uCAAAjN,KAAAkN,OAAA,8FAAApB,EAAAqB,KAAArB,EAAAqB,KAAA,IAAA,yDAAAnN,KAAAmN,KAAA,yDAAApB,EAAA,4EAAAD,EAAAsB,YAAAtB,EAAAsB,YAAA,IAAA,gEAAApN,KAAAoN,YAAA,0EAAAtB,EAAAuB,QAAAvB,EAAAuB,QAAA,IAAA,4DAAArN,KAAAqN,QAAA,0FAAAvB,EAAAwB,MAAAxB,EAAAwB,MAAA,IAAA,0DAAAtN,KAAAsN,MAAA,wBACAxC,kBAAA,EACAC,mBAAA,EACAO,iBAAAtL,KAAAuL,OACAxL,kBAAAC,KAAAwL,OACAP,WAAA,WACA,MAAA,IAAAC,SAAA,SAAAQ,EAAAC,GACAlL,EAAA,mBAAAM,OACA4K,EAAA3L,KAAAgN,OAAA,IAAAhN,KAAAuN,aAGA9M,EAAA,iBAAAM,OACA4K,EAAA3L,KAAAmN,KAAA,IAAAnN,KAAAuN,aAEA9M,EAAA,kBAAAM,OACA4K,EAAA3L,KAAAgH,MAAA,IAAAhH,KAAAuN,aAGA9M,EAAA,oBAAAM,OACA4K,EAAA3L,KAAAqN,QAAA,IAAArN,KAAAuN,aAEA9M,EAAA,kBAAAM,OACA4K,EAAA3L,KAAAsN,MAAA,IAAAtN,KAAAuN,aAEA7B,OAGA8B,OAAA,WAEA,GADA/M,EAAA,mBAAAM,IAAA+K,EAAAiB,MAAAjB,EAAAiB,MAAA,IAAAU,QACA,6CAAAC,KAAAC,UAAAC,WACAnN,EAAA,sBAAAO,cAAA6M,QAAA,IACApN,EAAA,sBAAAO,aAAA,MAAA8K,EAAA9E,MAAA8E,EAAA9E,MAAA,QACA,CAEA,IAAA,GADA8G,GAAA5B,SAAA6B,iBAAA,kBACA7F,EAAA,EAAAA,EAAA4F,EAAAxI,OAAA4C,IACA4F,EAAA5F,GAAA8F,UAAA9K,OAAA,gBAEAzC,GAAA,sBAAAO,cAAAiN,KAAA,IACAxN,EAAA,sBAAAO,aAAA,MAAA8K,EAAA9E,MAAA8E,EAAA9E,MAAA,QAGA4E,KAAA,SAAAtL,GACA,GAAA4N,GAAAzN,EAAA,gBAEAA,GAAAC,MACAC,IAAAuN,EAAAC,KAAA,WAAArC,EAAA1G,GAAA,IAAA0G,EAAA1G,GAAA,IACAtF,KAAA,OACAQ,KAAA4N,EAAAE,YACAxN,QAAA,SAAAN,GACA,GAAAA,EAAA6K,SAEA,MADAhJ,QAAAuE,SAAAC,KAAArG,EAAA6K,UACA,CAEAjK,UAAAZ,EAAAiB,OAAAjB,EAAAa,QAAAb,EAAA8J,QAGAtJ,MAAA,WACAI,SAAA,SAAA,4DAAA,SAAA,QAGAhB,MAAAN,KAAAO,MAGA,QAAAkO,cACAzO,MACAF,MAAAM,KAAAsO,iBACAzO,KAAA,kDAAAG,KAAA8M,UAAA,2FAAAnJ,KAAAmC,SAAA,wFAAAnC,KAAAgC,WAAA,YAAAhC,KAAAiC,iBAAA,iJAAA5F,KAAAuO,UAAA,gKAAAvO,KAAAyL,MAAA,mKAAAzL,KAAAwO,QAAA,sIAAAxO,KAAAmB,QAAA,+DACA2J,kBAAA,EACAC,mBAAA,EACAO,iBAAAtL,KAAAuL,OACAxL,kBAAAC,KAAAwL,OACAP,WAAA,WACA,MAAA,IAAAC,SAAA,SAAAQ,EAAAC,GACAlL,EAAA,cAAAM,OACA4K,EAAA3L,KAAA2C,KAAA,IAAA3C,KAAAuN,aAEA9M,EAAA,eAAAM,OACA4K,EAAA3L,KAAAyL,MAAA,IAAAzL,KAAAuN,aAEA9M,EAAA,iBAAAM,OACA4K,EAAA3L,KAAAwO,QAAA,IAAAxO,KAAAuN,aAEA9M,EAAA,iBAAAM,OACA4K,EAAA3L,KAAAmB,QAAA,IAAAnB,KAAAuN,aAEAkB,cAAAhO,EAAA,eAAAM,QACA4K,EAAA3L,KAAA0O,kBAEAhD,OAGA8B,OAAA,WACA/M,EAAA,cAAAgN,WAEA7B,KAAA,SAAAtL,GACA,GAAA4N,GAAAzN,EAAA,gBACAA,GAAAC,MACAC,IAAAuN,EAAAC,KAAA,UACArO,KAAA,OACAQ,KAAA4N,EAAAE,YACAxN,QAAA,SAAAN,GACA,GAAAA,EAAA6K,SAEA,MADAhJ,QAAAuE,SAAAC,KAAArG,EAAA6K,UACA,CAEAjK,UAAAZ,EAAAiB,OAAAjB,EAAAa,QAAAb,EAAA8J,OAAA,IAGAtJ,MAAA,WACAI,SAAA,SAAA,4DAAA,SAAA,QAGAhB,MAAAN,KAAAO,MAGA,QAAAsO,eAAAhD,GAEA,MADA,4JACAiC,KAAAjC,GAv6BAhL,EAAA,WAkKA,GAjKAA,EAAAyL,UAAAtK,GAAA,QAAA,kBAAA,SAAAC,GACAA,EAAA8M,gBACA,IAAAjJ,GAAAjF,EAAAqB,MAAAqM,KAAA,OACA1N,GAAAC,MAAAC,IAAA+E,EAAA,uBAAA5F,KAAA,QAAAoG,KAAA,SAAA5F,GACAA,EACAG,EAAA,kBAAAZ,KAAAS,GAEAY,SAAA,SAAA,wBAAA,SAAA,OAIAT,EAAAyL,UAAAtK,GAAA,QAAA,eAAA,SAAAC,GACAA,EAAA8M,gBACA,IAAAvJ,GAAA3E,EAAAqB,MAAAqM,KAAA,WACA/M,EAAAX,EAAA,0BACAmO,EAAAnO,EAAAqB,MAAA+M,QAAA,mBAAAC,KAAA,mBACAC,EAAAtO,EAAAqB,MAAA+M,QAAA,YAAAC,KAAA,OAAAE,GAAA,EACA,IAAAD,EAAA,CACAA,EAAAE,QAAAC,QAAAC,IAAAJ,EAAAG,SAAAC,IAAAC,KAAAL,EAAAG,SAAAE,OAAArN,KAAAsN,QAAA,MAAAC,SAAA,WAAApN,OAAA,QAAAE,MAAA,QAAAmN,UAAA,SAAAhK,SAAA9E,EAAA,SAAA+O,SAAAL,IAAA/N,EAAA8N,SAAAC,IAAA,GAAAC,KAAAhO,EAAA8N,SAAAE,KAAA,GAAAhN,MAAA,OAAAF,OAAA,QAAA,KACAsN,SAAApN,MAAA,EAAAF,OAAA,GAAA,WACAzB,EAAAqB,MAAA2N,WAGAhP,EAAAC,MAAAC,IAAAgD,KAAAkB,SAAA,YAAAO,EAAAtF,KAAA,MAAAmG,SAAA,OAAA3F,MAAAyH,IAAA6G,EAAA7N,SAAAmF,KAAA,SAAA5F,GACAA,EAAAQ,MACAI,SAAA,SAAAZ,EAAAa,QAAA,SAAA,IAEAC,EAAAd,EACAe,iBAAAf,QAKAG,EAAAyL,UAAAtK,GAAA,QAAA,aAAA,SAAAC,GACA,GAAAwJ,GAAA5K,EAAAqB,MAAAH,SAAAmN,KAAA,QACAY,UAAArE,EAAAtK,OAAA,GACAsK,EAAAtK,IAAA2O,SAAArE,EAAAtK,OAAA,KAGAN,EAAAyL,UAAAtK,GAAA,QAAA,kBAAA,SAAAC,GAGA,MAFA8N,SAAAC,IAAA9N,MACArB,EAAA,oBAAAoP,IAAA,SACA,IAEApP,EAAAyL,UAAAtK,GAAA,QAAA,YAAA,SAAAC,GACA,GAAAwJ,GAAA5K,EAAAqB,MAAAH,SAAAmN,KAAA,QACAzD,GAAAtK,IAAA2O,SAAArE,EAAAtK,OAAA,KAGAN,EAAAyL,UAAAtK,GAAA,QAAA,mBAAA,SAAAC,GACAA,EAAA8M,gBACA,IAAAvJ,GAAA3E,EAAAqB,MAAAqM,KAAA,UACA1N,GAAAC,MAAAC,IAAAgD,KAAAkB,SAAA,qBAAAO,EAAAtF,KAAA,MAAAmG,SAAA,SAAAC,KAAA,SAAArF,GACA,GAAAA,EAAA2F,MACA/F,EAAA,mBAAA4F,KAAAxF,EAAA2F,WACA,IAAA3F,EAAAsK,SAEA,MADAhJ,QAAAuE,SAAAC,KAAA9F,EAAAsK,UACA,CAEAjK,UAAAL,EAAAU,OAAAV,EAAAM,QAAAN,EAAAuJ,WAIA3J,EAAAyL,UAAAtK,GAAA,QAAA,mBAAA,SAAAC,GACAA,EAAA8M,gBACA,IAAAmB,GAAArP,EAAAqB,MACAsD,EAAA3E,EAAAqB,MAAAqM,KAAA,UACA1N,GAAAC,MAAAC,IAAAgD,KAAAkB,SAAA,wBAAAO,EAAAtF,KAAA,MAAAmG,SAAA,SAAAC,KAAA,SAAArF,GACA,GAAA,GAAAA,EAAA2F,MACAhE,WAAA,WACAkE,SAAAqJ,UACA,SACA,IAAAlP,EAAAsK,SAEA,MADAhJ,QAAAuE,SAAAC,KAAA9F,EAAAsK,UACA,CAEAtK,GAAAU,QAAAvB,KAAAc,OACAgP,EAAAE,QAAA,MAAA9M,SAEAzC,EAAA,mBAAA4F,KAAAxF,EAAA2F,OACAtF,SAAAL,EAAAU,OAAAV,EAAAM,QAAAN,EAAAuJ,WAIA/I,iBAAAD,MAEAX,EAAA,kBAAAwP,MAAA,WACAxP,EAAAqB,MAAAoO,KAAA,kBAAAV,SACAW,UAAA1P,EAAAqB,MAAAoO,KAAA,kBAAAhO,SAAA,KACA,OAGAzB,EAAA,gBAAAwP,MAAA,SAAApO,GACAA,EAAA8M,iBACA9C,gBAEApL,EAAA,iBAAAwP,MAAA,SAAApO,GACAA,EAAA8M,gBACA,IAAAyB,GAAA3P,EAAAqB,MAAAqM,KAAA,UACAkC,YACA5P,EAAAuD,KAAAqM,UAAA,WACAvO,KAAAsD,IAAAgL,GACAvE,YAAA/J,UAMArB,EAAAyL,UAAAtK,GAAA,QAAA,mBAAA,SAAAC,GACAA,EAAA8M,iBACAvD,OAAApL,KAAAsQ,SAAAtQ,KAAAuQ,cAIA9P,EAAA,sBAAA+P,MAAA,WACA/O,aAAA,KACAhB,EAAAqB,MAAA2O,SAAA,SAEA,WACAhP,aAAA,KACAhB,EAAAqB,MAAA4O,YAAA,UAKAjQ,EAAA,2CAAAmB,GAAA,QAAA,SAAA+O,GACAA,EAAAhC,iBACAgC,EAAAC,kBACAnQ,EAAAqB,MAAAH,SAAAkP,WAAAH,YAAA,QACAjQ,EAAAqB,MAAAH,SAAAmP,YAAA,UAIArQ,EAAA,QAAAsQ,SAAAC,UAAA,SAGAvQ,EAAA,aAAAwQ,gBACAC,UAAA,YAMA/P,QAAAnB,KAAAmR,mBAIA1Q,EAAA0B,QAAAiP,OAAA,WACA3Q,EAAAqB,MAAAqO,YAAA,GACA1P,EAAA,gBAAA4Q,SAEA5Q,EAAA,gBAAA6Q,YAIArP,gBACAxB,EAAA0B,QAAAoP,OAAAtP,eAEAT,aACAf,EAAA0B,QAAAoP,OAAA/P,YAEA,6CAAAkM,KAAAC,UAAAC,WACAnN,EAAA,iBAAAO,cAAA6M,QAAA,QACA,CAEA,IAAA,GADAC,GAAA5B,SAAA6B,iBAAA,kBACA7F,EAAA,EAAAA,EAAA4F,EAAAxI,OAAA4C,IACA4F,EAAA5F,GAAA8F,UAAA9K,OAAA,gBAEAzC,GAAA,iBAAAO,eA+HA,GA3HAP,EAAA,gBAAAwP,MAAA,SAAApO,GAGA,MAFAmB,OAAA,aAAAvC,EAAAqB,MAAAqM,KAAA,eACA1N,EAAA,YAAA+Q,WAAA,SAAAf,SAAAhQ,EAAAqB,MAAAqM,KAAA,gBACA,KAEAsD,WAAA/O,IAAA,gBACAjC,EAAA,YAAA+Q,WAAA,SAAAf,SAAAgB,YAGA,YAAAC,IACAjR,EAAA0B,QAAAoP,OAAA,WACAnO,SAAAC,YAGA,GAAAM,KAAAC,SAAAC,eACApD,EAAA,SAAAsD,SAAAyB,aAAA,eAIA/E,EAAA,YAAAmB,GAAA,oBAAA,SAAAC,GAIA,MAHA8N,SAAAC,IAAAnP,EAAAqB,MAAAf,OACAiC,MAAA,UAAAvC,EAAAqB,MAAAf,OACA0E,kBACA,IAIAhF,EAAA,YAAAwP,MAAA,WAKA,MAJAjN,OAAA,YAAA,YACAvC,EAAAqB,MAAA2O,SAAA,UACAhQ,EAAA,cAAAiQ,YAAA,UACAtN,SAAAC,WACA,IAGA5C,EAAA,cAAAwP,MAAA,WAKA,MAJAjN,OAAA,YAAA,cACAvC,EAAAqB,MAAA2O,SAAA,UACAhQ,EAAA,YAAAiQ,YAAA,UACAtN,SAAAC,WACA,IAIA5C,EAAA,wBAAA+K,OAAA,SAAA3J,GAKA,MAJAA,GAAA8M,iBACA5I,QAAA4L,MAAAlR,EAAA,mBAAAM,MACA0E,kBAEA,IAEAhF,EAAA,mBAAAmR,KAAA,SAAA/P,GAKA,MAJAA,GAAA8M,iBACA5I,QAAA4L,MAAAlR,EAAAqB,MAAAf,MACA0E,kBAEA,IAOAhF,EAAA,wBAAAwP,MAAA,SAAApO,GACAkE,QAAA8L,MAAA,KACApM,iBACAhF,EAAAqB,MAAAkO,QAAA,MAAA9M,WAGAzC,EAAA,2BAAAwP,MAAA,SAAApO,GACAkE,QAAAmB,SAAA,KACAzB,iBACAhF,EAAAqB,MAAAkO,QAAA,MAAA9M,WAIAzC,EAAA,6DAAAqR,OAAA,WACArM,mBAGAhF,EAAAyL,UAAAtK,GAAA,QAAA,gBAAA,SAAAmQ,GACAA,EAAApD,gBACA,IAAAjJ,GAAAjF,EAAAqB,MAAAqM,KAAA,QACA6D,EAAAtM,EAAAuM,MAAA,QACA,IAAAD,EAAA,GAAA,CACA,GAAAE,GAAAF,EAAA,GAAAC,MAAA,IACAlM,SAAAC,KAAAkM,EAAA,OAEAnM,SAAAC,KAAA,CAGA,OADAP,gBAAAC,IACA,KAIApC,UAAAZ,IAAA,eACAjC,EAAA6C,WAAA2M,SAEAxI,QAAA/E,IAAA,YACAjC,EAAA,YAAAO,aAAA,MAAAyG,SAEAzE,MAAA,UAAA,YAGA+C,QAAA4L,OACAlR,EAAA,mBAAAM,IAAAgF,QAAA4L,OAIAlM,kBAIAhF,EAAA,YAAAuD,KAAA,SAAAkE,EAAA1H,GACAC,EAAAD,GAAAsO,KAAA,YAAA0B,MAAA,WACA/P,EAAAqB,MAAAH,SAAAI,IAAA,UAAA,MACAtB,EAAAqB,MAAA2O,SAAA,YACA,WACAhQ,EAAAqB,MAAA4O,YAAA,WACAjQ,EAAAqB,MAAAH,SAAAI,IAAA,UAAA,SAIA,aAAAoQ,GAAA,SAAAT,EACArQ,iBAAAD,MACAE,YAAAF,MAEAX,EAAAyL,UAAAtK,GAAA,QAAA,eAAA,SAAAC,GACAA,EAAA8M,gBACA,IAAAyD,KACAA,GAAA,MAAA3R,EAAAqB,MAAAqM,KAAA,cAEA5D,UADA5G,KAAAkB,SAAA,eACA,EAAA,OAAAuN,KAEA3R,EAAAyL,UAAAtK,GAAA,SAAA,oCAAA,SAAAC,GACAA,EAAA8M,gBACA,IAAApO,GAAAuB,KAAAuQ,aACAvK,EAAArH,EAAAqB,MAAAkO,QAAA,MACA7H,EAAAL,EAAAqG,KAAA,MACA9N,EAAAsD,KAAAkB,SAAA,cACAuN,IACAA,GAAAzO,KAAAgC,YAAAhC,KAAAiC,iBACAwM,EAAA,MAAAjK,EACAiK,EAAA,IAAAtK,EAAAgH,KAAA,kBAAA/N,MACAqR,EAAA,OAAAtK,EAAAgH,KAAA,qBAAAwD,SAAA,mBAAAvR,MACAX,iBAAAC,EAAA+R,EAAA7R,EAAAE,EAAAqB,MAAAD,EAAA0Q,OAAAzS,QAEAW,EAAA,qBAAAmB,GAAA,kBAAA,SAAAC,GACApB,EAAAqB,MAAAwQ,SAAA,mBAAAvR,QACAE,IAAAR,EAAAqB,MAAAwQ,SAAA,mBAAAvR,SAKAN,EAAA,eAAAwP,MAAA,SAAApO,GACAA,EAAA8M,iBAEApE,UADA9J,EAAAqB,MAAAqM,KAAA,eAGA,IAAA,QAAAgE,GAAA,WAAAT,EAAA,CACA,GAAAc,GAAA/R,EAAA,YACAA,GAAA,6BAAAmB,GAAA,QAAA,SAAA+O,GACA,GAAA8B,GAAAhS,EAAAqB,MAAAgN,KAAA,OACA4D,EAAAD,EAAAtE,KAAA,OACAwE,EAAAF,EAAAtE,KAAA,OACApM,GAAA6Q,SAAAnS,EAAA0B,QAAAC,QAAA,GAAAyQ,UAAApS,EAAA0B,QAAAD,SAAA,GACAsQ,GAAA1D,KAAA,UAAA2B,SAAA,UACA+B,EAAA1D,KAAA,OAAAX,KAAA,MAAAuE,GACAF,EAAA1D,KAAA,OAAAX,KAAA,MAAAwE,GACAH,EAAA1D,KAAA,OAAA/M,IAAAA,GACAyQ,EAAA1D,KAAA,kBAAA4B,YAAA,cAAAD,SAAA,gBAEA+B,EAAA5Q,GAAA,iBAAA,SAAAC,GACA,GAAA4Q,GAAAD,EAAA1D,KAAA,MACA0D,GAAA1D,KAAA,iBAAA/M,KAAAK,MAAAqQ,EAAArQ,UACAoQ,EAAA1D,KAAA,UAAA4B,YAAA,UACA8B,EAAA/B,SAAA,QACAhQ,EAAA,mBAAAgQ,SAAA,UAEA+B,EAAA5Q,GAAA,gBAAA,WACA4Q,EAAA1D,KAAA,kBAAA4B,YAAA,cAAAD,SAAA,gBAEA+B,EAAA5Q,GAAA,kBAAA,WACA4Q,EAAA9B,YAAA,QACAjQ,EAAA,mBAAAiQ,YAAA,UAIA,GAAA/P,GAAAuL,SAAAxF,SAAAkD,UACAjJ,GAAAmS,MAAA,MACArS,EAAA,sBAAAE,EAAAsR,MAAA,KAAA,GAAA,MAAApC,IAAA,QAGApP,EAAAyL,UAAAtK,GAAA,QAAA,YAAA,SAAAC,GACAA,EAAA8M,iBACAlO,EAAA,sBAAAA,EAAAqB,MAAAqM,KAAA,QAAA,MAAA0B,IAAA,UAGApP,EAAA,mBAAAmB,GAAA,eAAA,SAAAC,GACAgF,QAAAC,UACAD,QAAAC,UAAA,KAAA,KAAAjF,EAAA0Q,OAAAQ,MAEA5Q,OAAAuE,SAAAqM,KAAAlR,EAAA0Q,OAAAQ,OAIAtS,EAAA,gBAAAwP,MAAA,SAAApO,GACAA,EAAA8M,iBACAN,eAGA5N,EAAA,oBAAAqR,OAAA,SAAAjQ,GACApB,EAAAqB,MAAAwF,GAAA,cACA7G,EAAA,mBAAAM,IAAAN,EAAA,kBAAAM,OAAA+Q,SACArR,EAAA,mBAAAM,IAAAN,EAAA,kBAAAM,OAAA+Q,SACArR,EAAA,kBAAAM,IAAAN,EAAA,iBAAAM,OAAA+Q,SACArR,EAAA,mBAAAM,IAAAN,EAAA,kBAAAM,OAAA+Q,SACArR,EAAA,yBAAAM,IAAAN,EAAA,wBAAAM,OAAA+Q,SACArR,EAAA,qBAAAM,IAAAN,EAAA,oBAAAM,OAAA+Q,SACArR,EAAA,mBAAAM,IAAAN,EAAA,UAAAM,OAAA+Q,SACArR,EAAA,mBAAAH,KAAA,kBAAA0S,gBAcA,IAAA/R,KAmhBAgS,OAAA/G,SAAA6B,iBAAA,SACAmF,WAAAhH,SAAAiH,cAAA,oBACAD,cACAA,WAAAE,MAAAC,QAAA,QAEAC,MAAAC,UAAAC,QAAAC,KAAAR,OAAA,SAAA5H,GACA,GAAAqI,GAAArI,EAAAsI,mBACAC,EAAAF,EAAAG,SAEAxI,GAAAyI,iBAAA,SAAA,SAAAjS,GACA,GAAAkS,GAAA,EACAjS,MAAAkS,OAAAlS,KAAAkS,MAAA1O,OAAA,GACAyO,GAAAjS,KAAAmS,aAAA,0BAAA,IAAA1N,QAAA,UAAAzE,KAAAkS,MAAA1O,QACA4N,aACAA,WAAAE,MAAAC,QAAA,kBAGAU,EAAAlS,EAAA0Q,OAAA7F,MAAAuF,MAAA,MAAAiC,MACAhB,aACAA,WAAAE,MAAAC,QAAA,SAIAU,GACAL,EAAAP,cAAA,QAAAU,UAAAE,EACAb,aACAA,WAAAE,MAAAC,QAAA,kBAGAK,EAAAG,UAAAD,EACAV,aACAA,WAAAE,MAAAC,QAAA","file":"../scripts.min.js","sourcesContent":["'use strict';\n\n// General scripts for all pages\n$(function () {\n    $(document).on('click', '.reload-captcha', function (e) {\n        e.preventDefault();\n        var link = $(this).attr('href');\n        $.ajax({ url: link + '?width=210&height=34', type: 'GET' }).done(function (data) {\n            if (data) {\n                $('.captcha-image').html(data);\n            } else {\n                sa_alert('Error!', 'Something went wrong.', 'error', true);\n            }\n        });\n    });\n    $(document).on('click', '.add-to-cart', function (e) {\n        e.preventDefault();\n        var id = $(this).attr('data-id');\n        var cart = $('.shopping-cart:visible');\n        var qty_input = $(this).parents('.product-bottom').find('.quantity-input');\n        var imgtodrag = $(this).parents('.product').find('img').eq(0);\n        if (imgtodrag) {\n            var imgclone = imgtodrag.clone().offset({ top: imgtodrag.offset().top, left: imgtodrag.offset().left }).css({ opacity: '0.5', position: 'absolute', height: '150px', width: '150px', 'z-index': '1000' }).appendTo($('body')).animate({ top: cart.offset().top + 10, left: cart.offset().left + 10, width: '50px', height: '50px' }, 400);\n            imgclone.animate({ width: 0, height: 0 }, function () {\n                $(this).detach();\n            });\n        }\n        $.ajax({ url: site.site_url + 'cart/add/' + id, type: 'GET', dataType: 'json', data: { qty: qty_input.val() } }).done(function (data) {\n            if (data.error) {\n                sa_alert('Error!', data.message, 'error', true);\n            } else {\n                cart = data;\n                update_mini_cart(data);\n            }\n        });\n    });\n\n    $(document).on('click', '.btn-minus', function (e) {\n        var input = $(this).parent().find('input');\n        if (parseInt(input.val()) > 1) {\n            input.val(parseInt(input.val()) - 1);\n        }\n    });\n    $(document).on('click', '.guest-checkout', function (e) {\n        console.log(this);\n        $('.nav-tabs a:last').tab('show');\n        return false;\n    });\n    $(document).on('click', '.btn-plus', function (e) {\n        var input = $(this).parent().find('input');\n        input.val(parseInt(input.val()) + 1);\n    });\n\n    $(document).on('click', '.add-to-wishlist', function (e) {\n        e.preventDefault();\n        var id = $(this).attr('data-id');\n        $.ajax({ url: site.site_url + 'cart/add_wishlist/' + id, type: 'GET', dataType: 'json' }).done(function (res) {\n            if (res.total) {\n                $('#total-wishlist').text(res.total);\n            } else if (res.redirect) {\n                window.location.href = res.redirect;\n                return false;\n            }\n            sa_alert(res.status, res.message, res.level);\n        });\n    });\n\n    $(document).on('click', '.remove-wishlist', function (e) {\n        e.preventDefault();\n        var self = $(this);\n        var id = $(this).attr('data-id');\n        $.ajax({ url: site.site_url + 'cart/remove_wishlist/' + id, type: 'GET', dataType: 'json' }).done(function (res) {\n            if (res.total == 0) {\n                setTimeout(function () {\n                    location.reload();\n                }, 1000);\n            } else if (res.redirect) {\n                window.location.href = res.redirect;\n                return false;\n            }\n            if (res.status != lang.error) {\n                self.closest('tr').remove();\n            }\n            $('#total-wishlist').text(res.total);\n            sa_alert(res.status, res.message, res.level);\n        });\n    });\n\n    update_mini_cart(cart);\n\n    $('#dropdown-cart').click(function () {\n        $(this).next('.dropdown-menu').animate({\n            scrollTop: $(this).next('.dropdown-menu').height() + 400\n        }, 100);\n    });\n\n    $('#add-address').click(function (e) {\n        e.preventDefault();\n        add_address();\n    });\n    $('.edit-address').click(function (e) {\n        e.preventDefault();\n        var sa = $(this).attr('data-id');\n        if (addresses) {\n            $.each(addresses, function () {\n                if (this.id == sa) {\n                    add_address(this);\n                }\n            });\n        }\n    });\n\n    $(document).on('click', '.forgot-password', function (e) {\n        e.preventDefault();\n        prompt(lang.reset_pw, lang.type_email);\n    });\n\n    // open dropdown menu on hover (if width >= 768px)\n    $('ul.nav li.dropdown').hover(function () {\n        if (get_width() >= 767) {\n            $(this).addClass('open');\n        }\n    }, function () {\n        if (get_width() >= 767) {\n            $(this).removeClass('open');\n        }\n    });\n\n    // Dropdiwn submenu\n    $('ul.dropdown-menu [data-toggle=dropdown]').on('click', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        $(this).parent().siblings().removeClass('open');\n        $(this).parent().toggleClass('open');\n    });\n\n    // Tooltip\n    $('.tip').tooltip({ container: 'body' });\n\n    // Form validation\n    $('.validate').formValidation({\n        framework: 'bootstrap',\n        // icon: {\n        //     valid: 'fa fa-ok',\n        //     invalid: 'fa fa-remove',\n        //     validating: 'fa fa-refresh'\n        // },\n        message: lang.required_invalid\n    });\n\n    // Back top Top\n    $(window).scroll(function () {\n        if ($(this).scrollTop() > 70) {\n            $('.back-to-top').fadeIn();\n        } else {\n            $('.back-to-top').fadeOut();\n        }\n    });\n\n    sticky_footer();\n    $(window).resize(sticky_footer);\n\n    sticky_con();\n    $(window).resize(sticky_con);\n\n    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)) {\n        $('.selectpicker').selectpicker({ modile: true });\n    } else {\n        var elements = document.querySelectorAll('.mobile-device');\n        for (var i = 0; i < elements.length; i++) {\n            elements[i].classList.remove('mobile-device');\n        }\n        $('.selectpicker').selectpicker();\n    }\n\n    // Theme color\n    $('.theme-color').click(function (e) {\n        store('shop_color', $(this).attr('data-color'));\n        $('#wrapper').removeAttr('class').addClass($(this).attr('data-color'));\n        return false;\n    });\n    if (shop_color = get('shop_color')) {\n        $('#wrapper').removeAttr('class').addClass(shop_color);\n    }\n\n    if (v == 'products') {\n        $(window).resize(function () {\n            gen_html(products);\n        });\n\n        if (site.settings.products_page == 1) {\n            $('.grid').isotope({ itemSelector: '.grid-item' });\n        }\n\n        // Products Sorting\n        $('#sorting').on('changed.bs.select', function (e) {\n            console.log($(this).val());\n            store('sorting', $(this).val());\n            searchProducts();\n            return false;\n        });\n\n        // Products Grid - 2 Cols\n        $('.two-col').click(function () {\n            store('shop_grid', '.two-col');\n            $(this).addClass('active');\n            $('.three-col').removeClass('active');\n            gen_html(products);\n            return false;\n        });\n        // Products Grid - 3 Cols\n        $('.three-col').click(function () {\n            store('shop_grid', '.three-col');\n            $(this).addClass('active');\n            $('.two-col').removeClass('active');\n            gen_html(products);\n            return false;\n        });\n\n        // Top search on products page - dont load page but recall ajax\n        $('#product-search-form').submit(function (e) {\n            e.preventDefault();\n            filters.query = $('#product-search').val();\n            searchProducts();\n            // $('#product-search').val('');\n            return false;\n        });\n        $('#product-search').blur(function (e) {\n            e.preventDefault();\n            filters.query = $(this).val();\n            searchProducts();\n            // $(this).val('');\n            return false;\n        });\n        // $('#product-category').change(function(e) {\n        //     window.location = site.site_url+'category/'+$(this).val();\n        // });\n\n        // Filters - unselect brand\n        $('.reset_filters_brand').click(function (e) {\n            filters.brand = null;\n            searchProducts();\n            $(this).closest('li').remove();\n        });\n        // Filters - unselect category\n        $('.reset_filters_category').click(function (e) {\n            filters.category = null;\n            searchProducts();\n            $(this).closest('li').remove();\n        });\n\n        // Reload products if the min/max price or in stock val change\n        $('#min-price, #max-price, #in-stock, #promotions, #featured').change(function () {\n            searchProducts();\n        });\n\n        $(document).on('click', '#pagination a', function (ev) {\n            ev.preventDefault();\n            var link = $(this).attr('href');\n            var p = link.split('page=');\n            if (p[1]) {\n                var pp = p[1].split('&');\n                filters.page = pp[0];\n            } else {\n                filters.page = 1;\n            }\n            searchProducts(link);\n            return false;\n        });\n\n        // Get user selected grip and sorting and apply to page\n        if (shop_grid = get('shop_grid')) {\n            $(shop_grid).click();\n        }\n        if (sorting = get('sorting')) {\n            $('#sorting').selectpicker('val', sorting);\n        } else {\n            store('sorting', 'name-asc');\n        }\n\n        if (filters.query) {\n            $('#product-search').val(filters.query);\n        }\n\n        // Load products\n        searchProducts();\n    }\n\n    // Featured products grid - hover view\n    $('.product').each(function (i, el) {\n        $(el).find('.details').hover(function () {\n            $(this).parent().css('z-index', '20');\n            $(this).addClass('animate');\n        }, function () {\n            $(this).removeClass('animate');\n            $(this).parent().css('z-index', '1');\n        });\n    });\n\n    if (m == 'cart_ajax' && v == 'index') {\n        update_mini_cart(cart);\n        update_cart(cart);\n        // Remove cart item\n        $(document).on('click', '.remove-item', function (e) {\n            e.preventDefault();\n            var fdata = {};\n            fdata['rowid'] = $(this).attr('data-rowid');\n            var action = site.site_url + 'cart/remove';\n            saa_alert(action, false, 'post', fdata);\n        });\n        $(document).on('change', '.cart-item-option, .cart-item-qty', function (e) {\n            e.preventDefault();\n            var pv = this.defaultValue;\n            var row = $(this).closest('tr');\n            var rowid = row.attr('id');\n            var action = site.site_url + 'cart/update';\n            var fdata = {};\n            fdata[site.csrf_token] = site.csrf_token_value;\n            fdata['rowid'] = rowid;\n            fdata['qty'] = row.find('.cart-item-qty').val();\n            fdata['option'] = row.find('.cart-item-option').children('option:selected').val();\n            update_cart_item(action, fdata, pv, $(this), e.target.type);\n        });\n        $('.cart-item-option').on('shown.bs.select', function (e) {\n            if ($(this).children('option:selected').val()) {\n                $po = $(this).children('option:selected').val();\n            }\n        });\n\n        // Destroy cart\n        $('#empty-cart').click(function (e) {\n            e.preventDefault();\n            var action = $(this).attr('href');\n            saa_alert(action);\n        });\n    } else if (m == 'shop' && v == 'product') {\n        var $lightbox = $('#lightbox');\n        $('[data-target=\"#lightbox\"]').on('click', function (event) {\n            var $img = $(this).find('img'),\n                src = $img.attr('src'),\n                alt = $img.attr('alt'),\n                css = { maxWidth: $(window).width() - 10, maxHeight: $(window).height() - 10 };\n            $lightbox.find('.close').addClass('hidden');\n            $lightbox.find('img').attr('src', src);\n            $lightbox.find('img').attr('alt', alt);\n            $lightbox.find('img').css(css);\n            $lightbox.find('.modal-content').removeClass('swal2-hide').addClass('swal2-show');\n        });\n        $lightbox.on('shown.bs.modal', function (e) {\n            var $img = $lightbox.find('img');\n            $lightbox.find('.modal-dialog').css({ width: $img.width() });\n            $lightbox.find('.close').removeClass('hidden');\n            $lightbox.addClass('fade');\n            $('.modal-backdrop').addClass('fade');\n        });\n        $lightbox.on('hide.bs.modal', function () {\n            $lightbox.find('.modal-content').removeClass('swal2-show').addClass('swal2-hide');\n        });\n        $lightbox.on('hidden.bs.modal', function () {\n            $lightbox.removeClass('fade');\n            $('.modal-backdrop').removeClass('fade');\n        });\n    }\n\n    var url = document.location.toString();\n    if (url.match('#')) {\n        $('.nav-tabs a[href=\"#' + url.split('#')[1] + '\"]').tab('show');\n    }\n\n    $(document).on('click', '.show-tab', function (e) {\n        e.preventDefault();\n        $('.nav-tabs a[href=\"#' + $(this).attr('href') + '\"]').tab('show');\n    });\n\n    $('.history-tabs a').on('shown.bs.tab', function (e) {\n        if (history.pushState) {\n            history.pushState(null, null, e.target.hash);\n        } else {\n            window.location.hash = e.target.hash;\n        }\n    });\n\n    $('.email-modal').click(function (e) {\n        e.preventDefault();\n        email_form();\n    });\n\n    $('#same_as_billing').change(function (e) {\n        if ($(this).is(':checked')) {\n            $('#shipping_line1').val($('#billing_line1').val()).change();\n            $('#shipping_line2').val($('#billing_line2').val()).change();\n            $('#shipping_city').val($('#billing_city').val()).change();\n            $('#shipping_state').val($('#billing_state').val()).change();\n            $('#shipping_postal_code').val($('#billing_postal_code').val()).change();\n            $('#shipping_country').val($('#billing_country').val()).change();\n            $('#shipping_phone').val($('#phone').val()).change();\n            $('#guest-checkout').data('formValidation').resetForm();\n        }\n    });\n});\n\nfunction sa_img(title, msg) {\n    swal({\n        title: title,\n        html: msg,\n        type: 'success',\n        confirmButtonText: lang.okay\n    }).catch(swal.noop);\n}\n\nvar $po;\nfunction update_cart_item(action, data, pv, el, type) {\n    $.ajax({\n        url: action,\n        type: 'POST',\n        data: data,\n        success: function success(res) {\n            if (res.error) {\n                if (type == 'text') {\n                    el.val(pv);\n                } else {\n                    el.selectpicker('val', $po);\n                }\n                sa_alert('Error!', res.message, 'error', true);\n            } else {\n                if (res.cart) {\n                    cart = res.cart;\n                    update_mini_cart(cart);\n                    update_cart(cart);\n                }\n                sa_alert(res.status, res.message);\n            }\n        },\n        error: function error() {\n            sa_alert('Error!', 'Ajax call failed, please try again or contact site owner.', 'error', true);\n        }\n    });\n}\n\n// Sticky Container\nfunction sticky_con() {\n    if (get_width() > 767) {\n        $('#sticky-con').stick_in_parent({ parent: $('.container') });\n        $('#sticky-con').on('sticky_kit:bottom', function (e) {\n            $(this).parent().css('position', 'static');\n        }).on('sticky_kit:unbottom', function (e) {\n            $(this).parent().css('position', 'relative');\n        });\n    } else {\n        $('#sticky-con').trigger('sticky_kit:detach');\n    }\n}\n\n// Set body padding\nfunction sticky_footer() {\n    $('body').css('padding-bottom', $('.footer').height());\n}\n\n// Get body width\nfunction get_width() {\n    return $(window).width();\n}\n\n// Show loading animation for n miliseconds\nfunction loading(n) {\n    $('#loading').show();\n    setTimeout(function () {\n        $('#loading').hide();\n    }, n);\n}\n\n// Get localStorage item\nfunction get(name) {\n    if (typeof Storage !== 'undefined') {\n        return localStorage.getItem(name);\n    } else {\n        alert('Please use a modern browser as this site needs localstroage!');\n    }\n}\n\n// Set localStorage item\nfunction store(name, val) {\n    if (typeof Storage !== 'undefined') {\n        localStorage.setItem(name, val);\n    } else {\n        alert('Please use a modern browser as this site needs localstroage!');\n    }\n}\n\n// Remove localStorage item\nfunction remove(name) {\n    if (typeof Storage !== 'undefined') {\n        localStorage.removeItem(name);\n    } else {\n        alert('Please use a modern browser as this site needs localstroage!');\n    }\n}\n\n// Show/hide animation for ajax requires\n// $(document).ajaxStart(function() { $('#loading').show(); })\n// .ajaxStop(function() { $('#loading').hide(); });\n\n// Generate html code for products\nfunction gen_html(products) {\n    var self = this;\n    var html = '';\n    if (get_width() > 992) {\n        var shop_grid = get('shop_grid');\n        var cols = shop_grid == '.three-col' ? 3 : 2;\n    } else {\n        var shop_grid = '.two-col';\n        var cols = 2;\n    }\n    var pr_con = shop_grid && shop_grid == '.three-col' ? 'col-sm-6 col-md-4' : 'col-md-6';\n    var pr_c = shop_grid && shop_grid == '.three-col' ? 'alt' : '';\n\n    if (!products) {\n        html += '<div class=\"col-sm-12\"><div class=\"alert alert-warning text-center padding-xl margin-top-lg\"><h4 class=\"margin-bottom-no\">' + lang.x_product + '</h4></div></div>';\n    }\n\n    if (site.settings.products_page == 1) {\n        $('#results').empty();\n        $('.grid').isotope('destroy').isotope();\n    }\n\n    $.each(products, function (index, product) {\n        var nprice = product.special_price ? product.special_price : product.price;\n        var fnprice = product.special_price ? product.formated_special_price : product.formated_price;\n        var pprice = product.promotion && product.promo_price && product.promo_price != 0 ? product.promo_price : nprice;\n        var fpprice = product.promotion && product.promo_price && product.promo_price != 0 ? product.formated_promo_price : fnprice;\n        if (site.settings.products_page != 1) {\n            if (index === 0) {\n                html += '<div class=\"row\">';\n            } else if (index % cols === 0) {\n                html += '</div><div class=\"row\">';\n            }\n        }\n        html += '<div class=\"product-container ' + pr_con + ' ' + (site.settings.products_page == 1 ? 'grid-item' : '') + '\">\\n        <div class=\"product ' + pr_c + ' ' + (site.settings.products_page == 1 ? 'grid-sizer' : '') + '\">\\n        ' + (product.promo_price ? '<span class=\"badge badge-right theme\">Promo</span>' : '') + '\\n        <div class=\"product-top\">\\n        <div class=\"product-image\">\\n        <a href=\"' + site.site_url + 'product/' + product.slug + '\">\\n        <img class=\"img-responsive\" src=\"' + site.base_url + 'assets/uploads/' + product.image + '\" alt=\"\"/>\\n        </a>\\n        </div>\\n        <div class=\"product-desc\">\\n        <a href=\"' + site.site_url + 'product/' + product.slug + '\">\\n        <h2 class=\"product-name\">' + product.name + '</h2>\\n        </a>\\n        <p>' + product.details + '</p>\\n        </div>\\n        </div>\\n        <div class=\"clearfix\"></div>\\n        ' + (site.shop_settings.hide_price == 1 ? '' : '\\n        <div class=\"product-bottom\">\\n        <div class=\"product-price\">\\n        ' + (product.promo_price ? '<del class=\"text-danger text-size-sm\">' + fnprice + '</del>' : '') + '\\n        ' + fpprice + '\\n        </div>\\n        <div class=\"product-rating\">\\n        <div class=\"form-group\" style=\"margin-bottom:0;\">\\n        <div class=\"input-group\">\\n        <span class=\"input-group-addon pointer btn-minus\"><span class=\"fa fa-minus\"></span></span>\\n        <input type=\"text\" name=\"quantity\" class=\"form-control text-center quantity-input\" value=\"1\" required=\"required\">\\n        <span class=\"input-group-addon pointer btn-plus\"><span class=\"fa fa-plus\"></span></span>\\n        </div>\\n        </div>\\n        </div>\\n        <div class=\"clearfix\"></div>\\n        <div class=\"product-cart-button\">\\n        <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\\n        <button class=\"btn btn-info add-to-wishlist\" data-id=\"' + product.id + '\"><i class=\"fa fa-heart-o\"></i></button>\\n        <button class=\"btn btn-theme add-to-cart\" data-id=\"' + product.id + '\"><i class=\"fa fa-shopping-cart padding-right-md\"></i> ' + lang.add_to_cart + '</button>\\n        </div>\\n        </div>\\n        <div class=\"clearfix\"></div>\\n        </div>') + '\\n        </div>\\n        <div class=\"clearfix\"></div>\\n        </div>';\n        if (site.settings.products_page != 1) {\n            if (index + 1 === products.length) {\n                html += '</div>';\n            }\n        }\n    });\n    //${(product.type != 'standard' || product.quantity > 0) ? '' : 'disabled=\"true\"'}\n\n    if (site.settings.products_page != 1) {\n        $('#results').empty();\n        $(html).appendTo($('#results'));\n    } else {\n        var data = $(html);\n        $('.grid').isotope('insert', data).isotope('layout');\n        setTimeout(function () {\n            $('.grid').isotope({ itemSelector: '.grid-item' });\n        }, 200);\n    }\n}\n\n// Seach products\nfunction searchProducts(link) {\n    $('#loading').show();\n    var data = {};\n    data[site.csrf_token] = site.csrf_token_value;\n    data['filters'] = get_filters();\n    data['format'] = 'json';\n    $.ajax({ url: site.shop_url + 'search?page=' + filters.page, type: 'POST', data: data, dataType: 'json' }).done(function (data) {\n        products = data.products;\n        $('.page-info').empty();\n        $('#pagination').empty();\n        if (data.products) {\n            if (data.pagination) {\n                $('#pagination').html(data.pagination);\n            }\n            if (data.info) {\n                $('.page-info').text(lang.page_info.replace('_page_', data.info.page).replace('_total_', data.info.total));\n            }\n        }\n        gen_html(products);\n    }).always(function () {\n        $('#loading').hide();\n    });\n    if (location.href.includes('products')) {\n        if (link) {\n            window.history.pushState({ link: link, filters: filters }, '', link);\n            window.onpopstate = function (e) {\n                if (e.state && e.state.filters) {\n                    filters = e.state.filters;\n                    searchProducts();\n                } else {\n                    filters.page = 1;\n                    searchProducts();\n                }\n            };\n        }\n    }\n    setTimeout(function () {\n        window.scrollTo(0, 0);\n    }, 500);\n}\n\n// Get page filters\nfunction get_filters() {\n    filters.category = $('#product-category').val() ? $('#product-category').val() : filters.category;\n    filters.min_price = $('#min-price').val();\n    filters.max_price = $('#max-price').val();\n    filters.in_stock = $('#in-stock').is(':checked') ? 1 : 0;\n    filters.promo = $('#promotions').is(':checked') ? 'yes' : 0;\n    filters.featured = $('#featured').is(':checked') ? 'yes' : 0;\n    filters.sorting = get('sorting');\n    return filters;\n}\n\n// Update mini cart\nfunction update_mini_cart(cart) {\n    if (cart.total_items && cart.total_items > 0) {\n        $('.cart-total-items').text(cart.total_items + ' ' + (cart.total_items > 1 ? lang.items : lang.item));\n        $('#cart-items').empty();\n        $.each(cart.contents, function () {\n            var row = '<td><a href=\"' + site.site_url + '/product/' + this.slug + '\"><span class=\"cart-item-image\"><img src=\"' + site.base_url + 'assets/uploads/thumbs/' + this.image + '\" alt=\"\"></span></a></td><td><a href=\"' + site.site_url + '/product/' + this.slug + '\">' + this.name + '</a><br>' + this.qty + ' x ' + this.price + '</td><td class=\"text-right text-bold\">' + this.subtotal + '</td>';\n            $('<tr>' + row + '</tr>').appendTo('#cart-items');\n        });\n        var row = '\\n        <tr class=\"text-bold\"><td colspan=\"2\">' + lang.total_items + '</td><td class=\"text-right\">' + cart.total_items + '</td></tr>\\n        <tr class=\"text-bold\"><td colspan=\"2\">' + lang.total + '</td><td class=\"text-right\">' + cart.total + '</td></tr>\\n        ';\n        $('<tfoot>' + row + '</tfoot>').appendTo('#cart-items');\n        $('#cart-empty').hide();\n        $('#cart-contents').show();\n    } else {\n        $('.cart-total-items').text(lang.cart_empty);\n        $('#cart-contents').hide();\n        $('#cart-empty').show();\n    }\n}\n\nfunction update_cart(cart) {\n    if (cart.total_items && cart.total_items > 0) {\n        $('#cart-table tbody').empty();\n        var i = 1;\n        $.each(cart.contents, function () {\n            var item = this;\n            var row = '\\n            <td class=\"text-center\">\\n            <a href=\"#\" class=\"text-red remove-item\" data-rowid=\"' + this.rowid + '\"><i class=\"fa fa-trash-o\"></i><a>\\n            </td>\\n            <td><input type=\"hidden\" name=\"' + i + '[rowid]\" value=\"' + this.rowid + '\">' + i + '</td>\\n            <td>\\n            <a href=\"' + site.site_url + '/product/' + this.slug + '\"><span class=\"cart-item-image pull-right\"><img src=\"' + site.base_url + 'assets/uploads/thumbs/' + this.image + '\" alt=\"\"></span></a>\\n            </td>\\n            <td><a href=\"' + site.site_url + '/product/' + this.slug + '\">' + this.name + '</a></td>\\n            <td>';\n            if (this.options) {\n                row += '<select name=\"' + i + '[option]\" class=\"selectpicker cart-item-option\" data-width=\"100%\" data-style=\"btn-default\">';\n                $.each(this.options, function () {\n                    row += '<option value=\"' + this.id + '\" ' + (this.id == item.option ? 'selected' : '') + '>' + this.name + ' ' + (parseFloat(this.price) != 0 ? '(+' + this.price + ')' : '') + '</option>';\n                });\n                row += '</select>';\n            }\n\n            row += '</td>\\n            <td><input type=\"text\" name=\"' + i + '[qty]\" class=\"form-control text-center input-qty cart-item-qty\" value=\"' + this.qty + '\"></td>\\n            <td class=\"text-right\">' + this.price + '</td>\\n            <td class=\"text-right\">' + this.subtotal + '</td>\\n            ';\n            i++;\n\n            $('<tr id=\"' + this.rowid + '\">' + row + '</tr>').appendTo('#cart-table tbody');\n        });\n\n        $('#cart-totals').empty();\n        var trow = '<tr><td>' + lang.total_w_o_tax + '</td><td class=\"text-right\">' + cart.subtotal + '</td></tr>';\n        trow += '<tr><td>' + lang.product_tax + '</td><td class=\"text-right\">' + cart.total_item_tax + '</td></tr>';\n        trow += '<tr><td>' + lang.total + '</td><td class=\"text-right\">' + cart.total + '</td></tr>';\n        if (site.settings.tax2 !== false) {\n            trow += '<tr><td>' + lang.order_tax + '</td><td class=\"text-right\">' + cart.order_tax + '</td></tr>';\n        }\n        trow += '<tr><td>' + lang.shipping + ' *</td><td class=\"text-right\">' + cart.shipping + '</td></tr>';\n        trow += '<tr><td colspan=\"2\"></td></tr>';\n        trow += '<tr class=\"active text-bold\"><td>' + lang.grand_total + '</td><td class=\"text-right\">' + cart.grand_total + '</td></tr>';\n\n        $('<tbody>' + trow + '</tbody>').appendTo('#cart-totals');\n\n        $('#total-items').text(cart.total_items + '(' + cart.total_unique_items + ')');\n        $('.cart-item-option').selectpicker('refresh');\n        $('.cart-empty-msg').hide();\n        $('.cart-contents').show();\n    } else {\n        $('#total-items').text(cart.total_items);\n        $('.cart-contents').hide();\n        $('.cart-empty-msg').show();\n    }\n}\n\n// Format Money - for products price\nfunction formatMoney(x, symbol) {\n    if (!symbol) {\n        symbol = site.settings.symbol;\n    }\n    if (site.settings.sac == 1) {\n        return (site.settings.display_symbol == 1 ? symbol : '') + '' + formatSA(parseFloat(x).toFixed(site.settings.decimals)) + (site.settings.display_symbol == 2 ? symbol : '');\n    }\n    var fmoney = accounting.formatMoney(x, symbol, site.settings.decimals, site.settings.thousands_sep == 0 ? ' ' : site.settings.thousands_sep, site.settings.decimals_sep, '%s%v');\n    return (site.settings.display_symbol == 1 ? symbol : '') + fmoney + (site.settings.display_symbol == 2 ? symbol : '');\n}\n\n// Format helper fun for South Asian Currencies\nfunction formatSA(x) {\n    x = x.toString();\n    var afterPoint = '';\n    if (x.indexOf('.') > 0) afterPoint = x.substring(x.indexOf('.'), x.length);\n    x = Math.floor(x);\n    x = x.toString();\n    var lastThree = x.substring(x.length - 3);\n    var otherNumbers = x.substring(0, x.length - 3);\n    if (otherNumbers != '') lastThree = ',' + lastThree;\n    var res = otherNumbers.replace(/\\B(?=(\\d{2})+(?!\\d))/g, ',') + lastThree + afterPoint;\n    return res;\n}\n\nfunction sa_alert(title, message, level, overlay) {\n    level = level || 'success';\n    overlay = overlay || false;\n    swal({\n        title: title,\n        html: message,\n        type: level,\n        timer: overlay ? 60000 : 2000,\n        confirmButtonText: 'Okay'\n    }).catch(swal.noop);\n}\n\nfunction saa_alert(action, message, method, form_data) {\n    method = method || lang.delete;\n    message = message || lang.x_reverted_back;\n    form_data = form_data || {};\n    form_data._method = method;\n    form_data[site.csrf_token] = site.csrf_token_value;\n    swal({\n        title: lang.r_u_sure,\n        html: message,\n        type: 'question',\n        showCancelButton: true,\n        allowOutsideClick: false,\n        showLoaderOnConfirm: true,\n        preConfirm: function preConfirm() {\n            return new Promise(function () {\n                $.ajax({\n                    url: action,\n                    type: 'POST',\n                    data: form_data,\n                    success: function success(data) {\n                        if (data.redirect) {\n                            window.location.href = data.redirect;\n                            return false;\n                        } else {\n                            if (data.cart) {\n                                cart = data.cart;\n                                update_mini_cart(cart);\n                                update_cart(cart);\n                            }\n                            sa_alert(data.status, data.message);\n                        }\n                    },\n                    error: function error() {\n                        sa_alert('Error!', 'Ajax call failed, please try again or contact site owner.', 'error', true);\n                    }\n                });\n            });\n        }\n    }).catch(swal.noop);\n}\n\nfunction prompt(title, message, form_data) {\n    title = title || 'Reset Password';\n    message = message || 'Please type your email address';\n    form_data = form_data || {};\n    form_data[site.csrf_token] = site.csrf_token_value;\n\n    swal({\n        title: title,\n        html: message,\n        input: 'email',\n        showCancelButton: true,\n        allowOutsideClick: false,\n        showLoaderOnConfirm: true,\n        cancelButtonText: lang.cancel,\n        confirmButtonText: lang.submit,\n        preConfirm: function preConfirm(email) {\n            form_data['email'] = email;\n            return new Promise(function (resolve, reject) {\n                $.ajax({\n                    url: site.base_url + 'forgot_password',\n                    type: 'POST',\n                    data: form_data,\n                    success: function success(data) {\n                        if (data.status) {\n                            resolve(data);\n                        } else {\n                            reject(data);\n                        }\n                    },\n                    error: function error() {\n                        sa_alert('Error!', 'Ajax call failed, please try again or contact site owner.', 'error', true);\n                    }\n                });\n            });\n        }\n    }).then(function (data) {\n        sa_alert(data.status, data.message);\n    });\n}\n\nfunction add_address(address) {\n    address = address || {};\n    var astate = '';\n    if (istates) {\n        var selectList = document.createElement('select');\n        selectList.id = 'address-state';\n        selectList.name = 'state';\n        selectList.className = 'selectpickerstate mobile-device';\n        selectList.setAttribute('data-live-search', true);\n        selectList.setAttribute('title', 'State');\n        var iskeys = Object.keys(istates);\n        iskeys.map(function (s) {\n            if (s != 0) {\n                var option = document.createElement('option');\n                option.value = s;\n                option.text = istates[s];\n                selectList.appendChild(option);\n            }\n        });\n        astate = selectList.outerHTML;\n    } else {\n        astate = '<input name=\"state\" value=\"' + (address.state ? address.state : '') + '\" id=\"address-state\" class=\"form-control\" placeholder=\"' + lang.state + '\">';\n    }\n    swal({\n        title: address.id ? lang.update_address : lang.add_address,\n        html: '<span class=\"text-bold padding-bottom-md\">' + lang.fill_form + '</span>' + '<hr class=\"swal2-spacer padding-bottom-xs\" style=\"display: block;\"><form action=\"' + site.shop_url + 'address\" id=\"address-form\" class=\"padding-bottom-md\">' + '<input type=\"hidden\" name=\"' + site.csrf_token + '\" value=\"' + site.csrf_token_value + '\">' + '<div class=\"row\"><div class=\"form-group col-sm-12\"><input name=\"line1\" id=\"address-line-1\" value=\"' + (address.line1 ? address.line1 : '') + '\" class=\"form-control\" placeholder=\"' + lang.line_1 + '\"></div></div>' + '<div class=\"row\"><div class=\"form-group col-sm-12\"><input name=\"line2\" id=\"address-line-2\" value=\"' + (address.line2 ? address.line2 : '') + '\" class=\"form-control\" placeholder=\"' + lang.line_2 + '\"></div></div>' + '<div class=\"row\">' + '<div class=\"form-group col-sm-6\"><input name=\"city\" value=\"' + (address.city ? address.city : '') + '\" id=\"address-city\" class=\"form-control\" placeholder=\"' + lang.city + '\"></div>' + '<div class=\"form-group col-sm-6\" id=\"istates\">' + astate + '</div>' + '<div class=\"form-group col-sm-6\"><input name=\"postal_code\" value=\"' + (address.postal_code ? address.postal_code : '') + '\" id=\"address-postal-code\" class=\"form-control\" placeholder=\"' + lang.postal_code + '\"></div>' + '<div class=\"form-group col-sm-6\"><input name=\"country\" value=\"' + (address.country ? address.country : '') + '\" id=\"address-country\" class=\"form-control\" placeholder=\"' + lang.country + '\"></div>' + '<div class=\"form-group col-sm-12 margin-bottom-no\"><input name=\"phone\" value=\"' + (address.phone ? address.phone : '') + '\" id=\"address-phone\" class=\"form-control\" placeholder=\"' + lang.phone + '\"></div>' + '</form></div>',\n        showCancelButton: true,\n        allowOutsideClick: false,\n        cancelButtonText: lang.cancel,\n        confirmButtonText: lang.submit,\n        preConfirm: function preConfirm() {\n            return new Promise(function (resolve, reject) {\n                if (!$('#address-line-1').val()) {\n                    reject(lang.line_1 + ' ' + lang.is_required);\n                }\n                // if (!$('#address-line-2').val()) { reject('Line 2 is required'); }\n                if (!$('#address-city').val()) {\n                    reject(lang.city + ' ' + lang.is_required);\n                }\n                if (!$('#address-state').val()) {\n                    reject(lang.state + ' ' + lang.is_required);\n                }\n                // if (!$('#address-postal-code').val()) { reject('Postal code is required'); }\n                if (!$('#address-country').val()) {\n                    reject(lang.country + ' ' + lang.is_required);\n                }\n                if (!$('#address-phone').val()) {\n                    reject(lang.phone + ' ' + lang.is_required);\n                }\n                resolve();\n            });\n        },\n        onOpen: function onOpen() {\n            $('#address-line-1').val(address.line1 ? address.line1 : '').focus();\n            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)) {\n                $('.selectpickerstate').selectpicker({ modile: true });\n                $('.selectpickerstate').selectpicker('val', address.state ? address.state : '');\n            } else {\n                var elements = document.querySelectorAll('.mobile-device');\n                for (var i = 0; i < elements.length; i++) {\n                    elements[i].classList.remove('mobile-device');\n                }\n                $('.selectpickerstate').selectpicker({ size: 5 });\n                $('.selectpickerstate').selectpicker('val', address.state ? address.state : '');\n            }\n        }\n    }).then(function (data) {\n        var $form = $('#address-form');\n        // resolve($form)\n        $.ajax({\n            url: $form.attr('action') + (address.id ? '/' + address.id : ''),\n            type: 'POST',\n            data: $form.serialize(),\n            success: function success(data) {\n                if (data.redirect) {\n                    window.location.href = data.redirect;\n                    return false;\n                } else {\n                    sa_alert(data.status, data.message, data.level);\n                }\n            },\n            error: function error() {\n                sa_alert('Error!', 'Ajax call failed, please try again or contact site owner.', 'error', true);\n            }\n        });\n    }).catch(swal.noop);\n}\n\nfunction email_form() {\n    swal({\n        title: lang.send_email_title,\n        html: '<div><span class=\"text-bold padding-bottom-md\">' + lang.fill_form + '</span>' + '<hr class=\"swal2-spacer padding-bottom-xs\" style=\"display: block;\"><form action=\"' + site.shop_url + 'send_message\" id=\"message-form\" class=\"padding-bottom-md\">' + '<input type=\"hidden\" name=\"' + site.csrf_token + '\" value=\"' + site.csrf_token_value + '\">' + '<div class=\"row\"><div class=\"form-group col-sm-12\"><input type=\"text\" name=\"name\" id=\"form-name\" value=\"\" class=\"form-control\" placeholder=\"' + lang.full_name + '\"></div></div>' + '<div class=\"row\"><div class=\"form-group col-sm-12\"><input type=\"email\" name=\"email\" id=\"form-email\" value=\"\" class=\"form-control\" placeholder=\"' + lang.email + '\"></div></div>' + '<div class=\"row\"><div class=\"form-group col-sm-12\"><input type=\"text\" name=\"subject\" id=\"form-subject\" value=\"\" class=\"form-control\" placeholder=\"' + lang.subject + '\"></div></div>' + '<div class=\"row\"><div class=\"col-sm-12\"><textarea name=\"message\" id=\"form-message\" class=\"form-control\" placeholder=\"' + lang.message + '\" style=\"height:100px;\"></textarea></div></div>' + '</form></div>',\n        showCancelButton: true,\n        allowOutsideClick: false,\n        cancelButtonText: lang.cancel,\n        confirmButtonText: lang.submit,\n        preConfirm: function preConfirm() {\n            return new Promise(function (resolve, reject) {\n                if (!$('#form-name').val()) {\n                    reject(lang.name + ' ' + lang.is_required);\n                }\n                if (!$('#form-email').val()) {\n                    reject(lang.email + ' ' + lang.is_required);\n                }\n                if (!$('#form-subject').val()) {\n                    reject(lang.subject + ' ' + lang.is_required);\n                }\n                if (!$('#form-message').val()) {\n                    reject(lang.message + ' ' + lang.is_required);\n                }\n                if (!validateEmail($('#form-email').val())) {\n                    reject(lang.email_is_invalid);\n                }\n                resolve();\n            });\n        },\n        onOpen: function onOpen() {\n            $('#form-name').focus();\n        }\n    }).then(function (data) {\n        var $form = $('#message-form');\n        $.ajax({\n            url: $form.attr('action'),\n            type: 'POST',\n            data: $form.serialize(),\n            success: function success(data) {\n                if (data.redirect) {\n                    window.location.href = data.redirect;\n                    return false;\n                } else {\n                    sa_alert(data.status, data.message, data.level, true);\n                }\n            },\n            error: function error() {\n                sa_alert('Error!', 'Ajax call failed, please try again or contact site owner.', 'error', true);\n            }\n        });\n    }).catch(swal.noop);\n}\n\nfunction validateEmail(email) {\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n}\n\nvar inputs = document.querySelectorAll('.file');\nvar submit_btn = document.querySelector('#submit-container');\nif (submit_btn) {\n    submit_btn.style.display = 'none';\n}\nArray.prototype.forEach.call(inputs, function (input) {\n    var label = input.nextElementSibling,\n        labelVal = label.innerHTML;\n\n    input.addEventListener('change', function (e) {\n        var fileName = '';\n        if (this.files && this.files.length > 1) {\n            fileName = (this.getAttribute('data-multiple-caption') || '').replace('{count}', this.files.length);\n            if (submit_btn) {\n                submit_btn.style.display = 'inline-block';\n            }\n        } else {\n            fileName = e.target.value.split('\\\\').pop();\n            if (submit_btn) {\n                submit_btn.style.display = 'none';\n            }\n        }\n\n        if (fileName) {\n            label.querySelector('span').innerHTML = fileName;\n            if (submit_btn) {\n                submit_btn.style.display = 'inline-block';\n            }\n        } else {\n            label.innerHTML = labelVal;\n            if (submit_btn) {\n                submit_btn.style.display = 'none';\n            }\n        }\n    });\n});"]}